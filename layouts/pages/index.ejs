<!DOCTYPE html>
<html>
  <%- include('../partials/head', {title: template('branding.prettyName')}) %>
  <body>

    <header id="masthead" class="masthead" role="banner">
      <div class="container">
        <%- include ../partials/branding %>
        <%- include ../partials/userTools %>
      </div>
    </header>

    <div id="main-search-page">
      <div class="main-item">
        <div class='hero section'>
          <%- include('../partials/branding', {context: 'home'}) %>
          <div class="tagline">
            <p><a href='https://open-austin.org'>Open Austin's</a> official knowledge base.</p>
          </div>
        </div>
        
        <div class='search-container section'>
          <%- include('../partials/search', {style: 'homepage', focus: 'autofocus', msgOnFocus: template('search.placeholder')}) %>
        </div>
        
        <div class="featured-cat section">
          <div class="featured-cat-container">
            <h3>Not sure where to start?</h3>
            <p>Select a popular doc below or <a  href="/categories"><%- template('landing.viewAll') %></a></p>
            <ul class="featured-cat-list">
              <% featured.forEach((doc) => { %>
                <% const type = doc.resourceType %>
                <li>
                  <%
                  const iconMap = {
                    document: 'file-o',
                    spreadsheet: 'table',
                    'text/html': 'file-o',
                    folder: 'folder',
                    presentation: 'clone',
                    image: 'picture-o',
                    video: 'video-camera',
                    pdf: 'file-pdf-o'
                  }
                  const iconName = iconMap[type] || 'external-link'
                  const className = `fa-${iconName}`
                  %>
                  <i class="fa foldericon <%= className %>" aria-hidden="true"></i>
                  <a href="<%= doc.path %>"><%= doc.prettyName %></a>
                </li>
              <% }) %>

            </ul>
          </div>
        </div>

      </div>
      <%- include('../partials/footer', {style: 'homepage', pageType: 'homepage'}) %>
    </div>
  </body>
</html>
